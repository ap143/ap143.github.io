import java.util.*;

int n = 61;
int m = 41;
int len = 20;
boolean[][] maze = new boolean[m][n];
String sb = "#############################################################" +
"#.................#........#..#.....#...........#.....#.....#" +
"####..#######..####..#..#..#..#..#..#..#..#..####..#..#..####" +
"#........#...........#..#.....#..#.....#..#..#.....#..#.....#" +
"#######..####..#..#######..#############..####..#######..#..#" +
"#...........#..#..#........#.....#..............#........#..#" +
"#..##########..################..#..#..#######..####..#..#..#" +
"#..#..#...........#........#..#.....#.....#..#..#.....#..#..#" +
"####..#######..####..#######..#######..####..##########..####" +
"#........#..#...........#........#..#........#.....#........#" +
"#..#..#..#..#..#..#######..#######..#..##########..#..#######" +
"#..#..#........#...........#..............#..#..............#" +
"#..#..####..##########..#..#..##########..#..#..####..#######" +
"#..#.....#........#.....#..#.....#..#..............#.....#..#" +
"##########..#..#######..##########..#######..#..#..####..#..#" +
"#...........#..#.....#..#........#..#..#.....#..#..#..#.....#" +
"#######..####..#..####..#######..#..#..#..##########..#..#..#" +
"#........#........#..#.....#...........#.....#........#..#..#" +
"#..####..####..####..#..####..####..#######..####..#..#######" +
"#..#.....#...........#.....#.....#.....#..#.....#..#..#.....#" +
"#..####..####..####..####..#..#..####..#..####..####..#..####" +
"#..#........#..#.....#........#.....#..#...........#..#..#..#" +
"#..#..#..####..#######..#..#######..#..#..#..#..#..#..#..#..#" +
"#..#..#..#........#.....#........#..#..#..#..#..#.....#.....#" +
"#######..####..####..#..####..#######..#..##########..#..####" +
"#..#.....#..#..#.....#.....#.....#........#..#.....#.....#..#" +
"#..#..####..#..#######..####..##########..#..#..####..#..#..#" +
"#........#.....#..#..#.....#..#........#........#..#..#.....#" +
"####..####..####..#..#..####..#..####..#######..#..#######..#" +
"#.....#..#..#.....#.....#..#..#..#.................#..#..#..#" +
"####..#..####..#..#######..####..#######..##########..#..#..#" +
"#..#..#........#........#..#.....#........#.................#" +
"#..#..####..#..##########..#..#..#######..################..#" +
"#........#..#........#........#..#..#........#.....#........#" +
"#..#..#..####..#..#..##########..#..#######..#..#..####..####" +
"#..#..#..#.....#..#...........#.....#........#..#..#..#.....#" +
"####..##########..####..#..#..#..#..#######..#..####..####..#" +
"#.....#........#..#.....#..#.....#.....#........#.....#..#..#" +
"####..#..####..#######..#..#..#######..##########..####..#..#" +
"#........#........#.....#..#.....#.......................#..#" +
"#############################################################";

Bot bot = new Bot(m-2, n-2, color(255, 0, 0));
Bot bot1 = new Bot(m-2, 1, color(255, 0, 0));
Bot bot2 = new Bot(1, n-2, color(255, 0, 0));
Bot player = new Bot(1, 1, color(255, 255, 0));
int count = 0;

void setup(){
  surface.setSize(n*len, m*len);
  surface.setResizable(false);
  surface.setLocation(100, 100);
  int x = 0;
  System.out.println(sb.length());
  for (int i = 0; i < m; i++){
    for (int j = 0; j < n; j++){
      maze[i][j] = sb.charAt(x++) != '#';
    }
  }
}

void draw(){
  background(0);
  fill(0, 0, 255);
  for (int i = 0; i < m; i++){
    for (int j = 0; j < n; j++){
      if (!maze[i][j]){
        rect(j*len, i*len, len, len);
      }
    }
  }
  count = (count+1)%10;
  bot.show();
  bot1.show();
  bot2.show();
  player.show();
  if (count == 0) {
    bot.move(player.mm, player.nn);
    bot2.move(player.mm, player.nn);
    bot1.move(player.mm, player.nn);
  }
  rect(10*len, 1*len, len, len);
}

void keyPressed(){
  if (keyCode == 38) {
    if (maze[player.mm-1][player.nn]) player.mm--;
  }else if (keyCode == 39){
    if (maze[player.mm][player.nn+1]) player.nn++;
  }else if (keyCode == 40){
    if (maze[player.mm+1][player.nn]) player.mm++;
  }else if (keyCode == 37){
    if (maze[player.mm][player.nn-1]) player.nn--;
  }
}
